–û—Å—å –ø—Ä–∏–∫–ª–∞–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó, –æ—Å–Ω–æ–≤–∞–Ω–æ—ó –Ω–∞ –Ω–∞–¥–∞–Ω–æ–º—É —à–∞–±–ª–æ–Ω—ñ:

---

# üì¶ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—ó –ø—Ä–æ—î–∫—Ç—É Flask –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker**

## 1. **–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ—î–∫—Ç—É**

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É:

```
project/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shop.py
‚îÇ   ‚îî‚îÄ‚îÄ models.py
‚îú‚îÄ‚îÄ data/
‚îú‚îÄ‚îÄ templates/
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ requirements.txt
```

---

## 2. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Docker**

### Dockerfile

–¶–µ–π —Ñ–∞–π–ª –æ–ø–∏—Å—É—î, —è–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ Docker-–æ–±—Ä–∞–∑ –¥–ª—è –≤–∞—à–æ–≥–æ Flask-–¥–æ–¥–∞—Ç–∫—É.

1. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –±–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ `python:3.9-slim`.
2. –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ `appuser` –¥–ª—è –±–µ–∑–ø–µ–∫–∏.
3. –ö–æ–ø—ñ—é—î–º–æ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —ñ–∑ `requirements.txt` —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —ó—Ö.
4. –ö–æ–ø—ñ—é—î–º–æ –≤—Å—ñ —Ñ–∞–π–ª–∏ –ø—Ä–æ—î–∫—Ç—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
5. –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ `appuser`.
6. –í–∫–∞–∑—É—î–º–æ –ø–æ—Ä—Ç 5000 –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É.
7. –í–∏–∑–Ω–∞—á–∞—î–º–æ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫—É –¥–æ–¥–∞—Ç–∫—É ‚Äî `python app.py`.

### docker-compose.yml

–¶–µ–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ—ñ–≥—É—Ä—É—î –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker Compose. –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç–∏ —Å–µ—Ä–≤—ñ—Å–∏:

1. **web**: –°—Ç–≤–æ—Ä—é—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑ Flask-–¥–æ–¥–∞—Ç–∫–æ–º.
2. **volumes**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Docker volume –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –º—ñ–∂ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

---

## 3. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**

–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö SQLite –∑–¥—ñ–π—Å–Ω—é—î—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª:

```python
def get_db_connection():
    db_path = os.path.join('data', 'db.sqlite')
    conn = sqlite3.connect(db_path)
    conn.row_factory = sqlite3.Row
    return conn
```

–¶–µ–π –∫–æ–¥ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É Docker Volume –¥–ª—è –ø–æ—Å—Ç—ñ–π–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö.

---

## 4. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É**

### –ó–±—ñ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑—É

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–±—ñ—Ä–∫–∏ –æ–±—Ä–∞–∑—É:

```bash
docker build -t flask-shop .
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

```
Successfully built 1234567890ab
Successfully tagged flask-shop:latest
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```bash
docker run -p 5000:5000 -v flask-db-data:/app/data -d flask-shop
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤:

```bash
docker ps
```

–ü—Ä–∏ —É—Å–ø—ñ—à–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É, –≤–∏–≤–µ–¥–µ—Ç—å—Å—è:

```
CONTAINER ID   IMAGE        PORTS                    STATUS
1234567890ab   flask-shop   0.0.0.0:5000->5000/tcp  Up 2 minutes
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API Endpoints

–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ API –∑–∞ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∞–º–∏:

1. **Endpoint**: `/api/products`
2. **–ú–µ—Ç–æ–¥**: GET
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 200 OK

---

## 5. **–ü—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —ó—Ö –≤–∏—Ä—ñ—à–µ–Ω–Ω—è**

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –º—ñ–≥ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —É volume.

**–†—ñ—à–µ–Ω–Ω—è**: –î–æ–¥–∞–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞–≤:

```bash
RUN adduser --disabled-password --gecos '' appuser
RUN chown -R appuser:appuser /app/data
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞**: –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –Ω–µ —Å—Ç–≤–æ—Ä—é–≤–∞–ª–∞—Å—è –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

**–†—ñ—à–µ–Ω–Ω—è**: –î–æ–¥–∞–Ω–æ —Å–∫—Ä–∏–ø—Ç —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ entrypoint:

```bash
#!/bin/bash
python init_db.py
python app.py
```

---

## 6. **–í–∏—Å–Ω–æ–≤–∫–∏**

1. –£—Å–ø—ñ—à–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–æ Flask-–¥–æ–¥–∞—Ç–æ–∫.
2. –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ø–æ—Å—Ç—ñ–π–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ Docker Volumes.
3. –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –±–µ–∑–ø–µ—á–Ω—É —Ä–æ–±–æ—Ç—É –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö.
4. –û—Ç—Ä–∏–º–∞–Ω–æ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏ —Ä–æ–±–æ—Ç–∏ –∑ Docker.

---

## 7. **–î–æ–¥–∞—Ç–∫–∏**

- **–°–∫—Ä—ñ–Ω—à–æ—Ç–∏**:
    - –ü—Ä–æ—Ü–µ—Å –∑–±—ñ—Ä–∫–∏ Docker –æ–±—Ä–∞–∑—É
    - –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è API –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤
    - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–∞–Ω–∏—Ö —É Docker Volume

---

–¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ—Ö–æ–ø–ª—é—î –æ—Å–Ω–æ–≤–Ω—ñ –∫—Ä–æ–∫–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è Docker –¥–ª—è –≤–∞—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É. –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —É—Ç–æ—á–Ω–µ–Ω–Ω—è –∞–±–æ –¥–æ–ø–æ–≤–Ω–µ–Ω–Ω—è, –Ω–µ —Å–æ—Ä–æ–º—Ç–µ—Å—å –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è!